<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="V2ex.Maui2.App.MainPage"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:ios="clr-namespace:Microsoft.Maui.Controls.PlatformConfiguration.iOSSpecific;assembly=Microsoft.Maui.Controls"
             SafeAreaEdges="None"
             Shell.TabBarIsVisible="False">
    <ContentPage.Behaviors>
        <toolkit:StatusBarBehavior StatusBarColor="{Binding NativeStatusBarColor}"
                                   StatusBarStyle="{Binding NativeStatusBarStyle}"/>
    </ContentPage.Behaviors>

    <Grid RowDefinitions="*, Auto">
        <!-- WebView Layer -->
        <Grid Grid.Row="0">
            <HybridWebView x:Name="hybridWebView"
                           HybridRoot="wwwroot"
                           DefaultFile="index.html"
                           RawMessageReceived="OnHybridWebViewRawMessageReceived"/>
        </Grid>

        <!-- Splash Screen Overlay - 简洁现代设计 -->
        <Grid x:Name="splashScreen"
              Grid.RowSpan="2"
              BackgroundColor="#121212"
              ZIndex="1000">
            
            <!-- 使用应用 Logo -->
            <Image Source="splash.png"
                   WidthRequest="120"
                   HeightRequest="120"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   Margin="0,0,0,60"/>
            
            <!-- 底部加载指示器 -->
            <VerticalStackLayout VerticalOptions="End"
                                 HorizontalOptions="Center"
                                 Padding="0,0,0,80"
                                 Spacing="12">
                <ActivityIndicator IsRunning="{Binding IsLoading}"
                                   Color="#71717a"
                                   HorizontalOptions="Center"
                                   WidthRequest="24"
                                   HeightRequest="24"/>
            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentPage>
